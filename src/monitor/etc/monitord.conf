#*******************************************************************************
#                       OpenNebula Configuration file
#*******************************************************************************

#*******************************************************************************
# Daemon configuration attributes
#-------------------------------------------------------------------------------
#  MESSAGE_SIZE: Buffer size in bytes for XML-RPC responses.
#
#  XMLRPC_TIMEOUT: Seconds to timeout XML-RPC calls to oned
#
#  ONE_XMLRPC: URL to connect to the OpenNebula daemon (oned)
#
#  HOST_MONITORING_EXPIRATION_TIME: Time, in seconds, to expire monitoring
#       information. Use 0 to disable HOST monitoring recording.
#
#  LOG: Configuration for the logging system
#    - system: defines the logging system:
#          file      to log in the sched.log file
#          syslog    to use the syslog facilities
#    - debug_level:
#           0 = ERROR
#           1 = WARNING
#           2 = INFO
#           3 = DEBUG   Includes general scheduling information (default)
#           4 = DDEBUG  Includes time taken for each step
#           5 = DDDEBUG Includes detailed information about the scheduling
#                       decision, such as VM requirements, Host ranking for
#                       each VM, etc. This will impact the performance
#
#*******************************************************************************

MESSAGE_SIZE = 1073741824
TIMEOUT      = 60
ONE_XMLRPC   = "http://localhost:2633/RPC2"

#HOST_MONITORING_EXPIRATION_TIME = 43200

LOG = [
  system      = "FILE",
  debug_level = 3
]

#*******************************************************************************
# Database configuration attributes
#-------------------------------------------------------------------------------
#  DB: Configuration attributes for the database backend
#   backend : can be sqlite or mysql (default is sqlite)
#   server  : (mysql) host name or an IP address for the MySQL server
#   port    : (mysql) port for the connection to the server.
#                     If set to 0, the default port is used.
#   user    : (mysql) user's MySQL login ID
#   passwd  : (mysql) the password for user
#   db_name : (mysql) the database name
#   connections: (mysql) number of max. connections to mysql server
#   encoding: charset to use for the db connections
#
#*******************************************************************************

DB = [ BACKEND = "sqlite" ]

# Sample configuration for MySQL
# DB = [ BACKEND = "mysql",
#        SERVER  = "localhost",
#        PORT    = 0,
#        USER    = "oneadmin",
#        PASSWD  = "oneadmin",
#        DB_NAME = "opennebula",
#        ENCODING = "",
#        CONNECTIONS = 50 ]

#*******************************************************************************
# UDP Listener
#*******************************************************************************
# Reads messages from monitor agent
#
#   addresss       : network address to bind the UDP listener to.
#   monitor_address: agents will send updates to this monitor address
#
#   port    : listening port
#   threads : number of processing threads
#   pubkey  : Absolute path to public key (agents). Empty for no encryption.
#   prikey  : Absolute path to private key (monitord). Empty for no encryption.
#*******************************************************************************
UDP_LISTENER = [
    ADDRESS         = "0.0.0.0",
    MONITOR_ADDRESS = 127.0.0.1,
    PORT    = 4124,
    THREADS = 8,
    PUBKEY  = "",
    PRIKEY  = ""
]

#*******************************************************************************
# Information Driver Configuration
#*******************************************************************************
# You can add more monitor drivers with different configurations but make
# sure it has different names.
#
#   name      : name for this monitor driver
#
#   executable: path of the monitor driver executable, can be an
#               absolute path or relative to $ONE_LOCATION/lib/mads (or
#               /usr/lib/one/mads/ if OpenNebula was installed in /)
#
#   arguments : for the driver executable, usually a probe configuration file,
#               can be an absolute path or relative to $ONE_LOCATION/etc (or
#               /etc/one/ if OpenNebula was installed in /)
#
#   threads   : How many threads should be used to process messages
#               0 process the message in main loop
#*******************************************************************************

#-------------------------------------------------------------------------------
#  KVM UDP-push Information Driver Manager Configuration
#    -r number of retries when monitoring a host
#    -t number of threads, i.e. number of hosts monitored at the same time
#    -w Timeout in seconds to execute external commands (default unlimited)
#-------------------------------------------------------------------------------
IM_MAD = [
      NAME          = "kvm",
      SUNSTONE_NAME = "KVM",
      EXECUTABLE    = "one_im_ssh",
      ARGUMENTS     = "-r 3 -t 15 -w 90 kvm",
      THREADS       = 0
      ]
#-------------------------------------------------------------------------------

#-------------------------------------------------------------------------------
#  LXD UDP-push Information Driver Manager Configuration
#    -r number of retries when monitoring a host
#    -t number of threads, i.e. number of hosts monitored at the same time
#    -w Timeout in seconds to execute external commands (default unlimited)
#-------------------------------------------------------------------------------
# IM_MAD = [
#       NAME          = "lxd",
#       SUNSTONE_NAME = "LXD",
#       EXECUTABLE    = "one_im_ssh",
#       ARGUMENTS     = "-r 3 -t 15 -w 90 lxd" ]
#-------------------------------------------------------------------------------

#-------------------------------------------------------------------------------
#  vCenter Information Driver Manager Configuration
#    -r number of retries when monitoring a host
#    -t number of threads, i.e. number of hosts monitored at the same time
#    -w Timeout in seconds to execute external commands (default unlimited)
#-------------------------------------------------------------------------------
# IM_MAD = [
#       NAME          = "vcenter",
#       SUNSTONE_NAME = "VMWare vCenter",
#       EXECUTABLE    = "one_im_sh",
#       ARGUMENTS     = "-c -t 15 -r 0 vcenter" ]
#-------------------------------------------------------------------------------

#-------------------------------------------------------------------------------
#  EC2 Information Driver Manager Configuration
#    -r number of retries when monitoring a host
#    -t number of threads, i.e. number of hosts monitored at the same time
#    -w Timeout in seconds to execute external commands (default unlimited)
#-------------------------------------------------------------------------------
#IM_MAD = [
#      NAME          = "ec2",
#      SUNSTONE_NAME = "Amazon EC2",
#      EXECUTABLE    = "one_im_sh",
#      ARGUMENTS     = "-c -t 1 -r 0 -w 600 ec2" ]
#-------------------------------------------------------------------------------

#-------------------------------------------------------------------------------
#  Azure Information Driver Manager Configuration
#    -r number of retries when monitoring a host
#    -t number of threads, i.e. number of hosts monitored at the same time
#    -w Timeout in seconds to execute external commands (default unlimited)
#-------------------------------------------------------------------------------
#IM_MAD = [
#      NAME          = "az",
#      SUNSTONE_NAME = "Microsoft Azure",
#      EXECUTABLE    = "one_im_sh",
#      ARGUMENTS     = "-c -t 1 -r 0 az" ]
#-------------------------------------------------------------------------------

#-------------------------------------------------------------------------------
#  Hybrid OpenNebula Information Driver Manager Configuration
#    -r number of retries when monitoring a host
#    -t number of threads, i.e. number of hosts monitored at the same time
#-------------------------------------------------------------------------------
# IM_MAD = [
#       NAME          = "one",
#       SUNSTONE_NAME = "OpenNebula",
#       EXECUTABLE    = "one_im_sh",
#       ARGUMENTS     = "-c -t 1 -r 0 one" ]
#-------------------------------------------------------------------------------

#-------------------------------------------------------------------------------
#  Dummy Information Driver Manager Configuration
#-------------------------------------------------------------------------------
#IM_MAD = [ NAME="dummy", SUNSTONE_NAME="Testing", EXECUTABLE="one_im_dummy"]
#-------------------------------------------------------------------------------
